# よくある質問


- アップデート関連の情報、サウンドが再生されない、CPU負荷が高すぎる/低すぎるなどについては、本記事に説明があります。

- 全般的な操作説明については[オンラインマニュアル](online_manual.md)をご覧ください。
- デバッグ機能の使い方などは、[開発者向け機能](dev_manual.md)をご覧ください。
- バグ、要望等は、こちらの記事にどうぞ。→ [『将棋神やねうら王』Update3までの遊戯施設 / やねうら王ブログ](http://yaneuraou.yaneu.com/2018/10/06/%E3%80%8E%E5%B0%86%E6%A3%8B%E7%A5%9E%E3%82%84%E3%81%AD%E3%81%86%E3%82%89%E7%8E%8B%E3%80%8Fupdate3%E3%81%BE%E3%81%A7%E3%81%AE%E9%81%8A%E6%88%AF%E6%96%BD%E8%A8%AD/)


## 『将棋神やねうら王』のアップデート関連の情報について


- 『将棋神やねうら王』(2018年8月発売)に関するマイナビ公式のアップデート情報については、[マイナビ 将棋神やねうら王の商品ページ](https://book.mynavi.jp/ec/products/detail/id=92007)をご確認ください。
  - Update1の内容 : [好評発売中「将棋神 やねうら王」　大規模アップデート配信開始！！](https://book.mynavi.jp/shogi/detail/id=93924)
  - Update2の内容 : [「自然な弱さ」を実現！「将棋神 やねうら王」アップデート第２弾リリース](https://book.mynavi.jp/shogi/detail/id=99063)
- 今後のアップデートの予定など、最新の情報・作業進捗については、[WIP](WIP.md)をご覧ください。
- 開発中のバージョンは、[『将棋神やねうら王』Update3までの遊戯施設 / やねうら王ブログ](http://yaneuraou.yaneu.com/2018/10/06/%E3%80%8E%E5%B0%86%E6%A3%8B%E7%A5%9E%E3%82%84%E3%81%AD%E3%81%86%E3%82%89%E7%8E%8B%E3%80%8Fupdate3%E3%81%BE%E3%81%A7%E3%81%AE%E9%81%8A%E6%88%AF%E6%96%BD%E8%A8%AD/)
からダウンロードすることが出来ます。


## 『将棋神やねうら王』(マイナビより2018年8月発売)・『MyShogi』(オープンソースGUI)に関するよくある質問集

### サウンドが再生されない時


- 駒音、読み上げなどの効果音のサウンドの再生には、MediaPlayerという技術を使っています。そのため、Windows Media Playerが使えない環境だとサウンドが正常に再生されないようです。
- Windows Media PlayerはWindows7/8/8.1/10には標準でインストールされているのですが、何かの拍子に使えなくなることがあるようです。
    - 参考記事 : [Windows 10：Windows Media Player がなくなった？](http://snow-white.cocolog-nifty.com/first/2017/12/windows-10windo.html)

- サウンドが再生されない時は、以下の方法をお試しください。
  - 1. Windows Media Playerを有効化する
    - 方法) 「コントロールパネル」→「プログラムの機能」→「Windowsの機能の有効化または無効化」→「Media Features」→「Windows Media Player」のチェックボックスをオンにする。
  - 2. すべてのアプリ内に「Windows Media Player」が表示されているか確認。ここになければ、Windows Media Playerがなぜかアンインストールされているのでインストールする。　
    - 方法) 「設定」→「アプリ」→「アプリと機能」→「オプション機能の管理」をクリック。「機能の追加」をクリック。「オプション機能」に「Windows Media Player」が見つかったら選択。「インストール」ボタンを押す。
  - 3. Windows Media Playerをアンインストールしてから再インストールしてみる。(上記の2.の手順を参考にアンインストール＆インストール)


- やねうら王を起動　→　Windowsのスリープ　→　スリープ解除 →　起動したままのやねうら王を動かすと駒音だけなぜか消えています。
  - やねうら王が音の再生に使っているWindows Media Playerという技術がスリープを解除したときの再生に対応してないんでしょうね。(´；ω；｀)
    Microsoftさん、直してくれないかな…。


### 思考エンジンが思考している時にCPU負荷が高すぎる/低すぎる


- 本ソフトでは「将棋神」「カスタム」では、デフォルトではCPUの(論理コア数ではなく)物理コア数で並列的に思考します。この並列で思考する役割を担うものをスレッドと呼びます。
  - この設定は、詳細設定の「スレッド数」のところから変更できます。
  - この「スレッド数」を増やすと思考時のCPU負荷が上がり、減らすと思考時のCPU負荷が下がります。
  - デフォルトでは、CPUの論理コア数ではなく物理コア数に設定されているので、HyperThreadingが有効な環境だとCPU負荷は50%程度になります。CPU負荷が100%になっていませんが(CPUを使い切っていませんが)、これは正常な動作です。
- また、「初段」など段位が書いてあるものに関しては、(Update2より)「10級」～「九段」までは2スレッド固定。(設定された棋力を担保するため)
    「十段」「十一段」「十二段」はエンジン詳細設定のスレッド数の設定に従います。(このため、物理4コア以上のPCで自動スレッドオンだと、「九段」より「十段」のほうが若干思考時間が短いかも知れません。)

- 検討モードで長時間使用する場合など、PCは、CPU負荷が高い状態が続くことになるので、PCによっては冷却が追いつかず、PC本体の温度が上がることがあります。

- PC本体の温度が上がると困る(PCが壊れやすくなる？)と言う人は、このスレッド数を減らすことでCPU負荷を下げることが出来ます。
  - 「スレッド数」を減らすとコンピュータの棋力は本来の棋力よりは下がります。

- 逆に「スレッド数」を、論理コア数に設定することで思考時のCPU負荷を100%に持っていくことが出来ます。普通は、そのほうが強くなるので、CPU負荷が高くとも少しでもコンピューターの棋力が高いほうが良いという方は、そうしてください。


### ミニ盤面が小さすぎる。拡大する方法は？


- ミニ盤面は検討ウィンドウの高さに追随しているので、検討ウィンドウのサイズをマウスで大きくしてみてください。検討ウィンドウの高さに応じてミニ盤面も大きくなります。


### 棋譜ウィンドウの文字が小さすぎて読めない。


- 棋譜ウィンドウ、現状メインウィンドウに埋め込む形になっているので、横にはみ出るわけにはいかず、棋譜ウィンドウの横幅に収まるフォントサイズにせざるを得なくて小さくなりがちです。
- 棋譜ウィンドウの横幅自体は、メニューの「表示」のところからサイズを変更できるのでそれで幅を広げればそれに応じたフォントサイズになります。
- 棋譜ウィンドウを激指のようにフロート型のウィンドウにすることも検討中です。(Update2あたりで)


### 1PCで本ソフトを複数起動できますか？


- (動作保証の対象外ですが)複数起動自体は出来ます。
  - 終了するときに設定を書き出すのですが、この部分の排他はしていないので全く同じタイミングで本ソフトを終了させると設定ファイルが壊れる可能性はあります。
- 思考エンジンへのHash用のメモリの割り当ては自動割り当てになっていると最初に対局を開始した本ソフトの思考エンジンにたくさんメモリが割り当てられるので、
  Hashサイズは固定して、同じサイズだけ割り当てるような運用にしたほうが公平だとは思います。


### ソフト(GUI本体)が起動しなくなりました


- ソフトを再インストールしてみてください。再インストールしても起動しない場合は、
  設定ファイルが何らかの理由により破損した可能性が高いです。設定ファイルを削除してみてください。
  - 設定ファイルは、『将棋神やねうら王』の場合、インストール先のフォルダ配下にある以下の2つのファイルです。
    - 画面設定     : "MyShogi.setting.xml"
    - エンジン設定 : "MyShogi.engine.xml"
  - 見当たらない場合は、WindowsのVirtual Storeという機能で仮想化されていると思われるので、以下のようなフォルダを探してみてください。
    - Windows 10で『将棋神やねうら王』を標準のインストール先にインストールした場合の例)
      "C:\Users\【ユーザー名】\AppData\Local\VirtualStore\Program Files (x86)\YaneuraOu2018"


### ソフト(GUI本体)は起動するのですが、エンジンが起動しなくなりました。


- エンジンの詳細設定で何らか無理な値が設定した可能性が高いです。エンジン設定の初期化をしてみてください。
    - メニュー「ファイル」→「設定の初期化」→「各エンジン設定の初期化」


## 『将棋神やねうら王』(マイナビより2018年8月発売)に関するよくある質問集


### 購入を考えていますが、ダウンロード回数に制限はありますか？


- マイナビのダウンロード販売には、いまのところダウンロード回数と期限に制限はないそうです。


### 2台のPCにインストールしたい場合、『将棋神やねうら王』を2つ買わないといけませんか？


- 『将棋神やねうら王』のインストール時のライセンス文書にある通りです。
- 購入された方がお一人で使うならば、複数台へのインストールが可能です。


### 別のPCへインストールのしなおしは可能ですか？


- 「いまお使いのPCにインストールしたあと、PCを買い替え、そのPCにインストールする」ということですね？可能です。
- また、購入された方がお一人で使うならば、複数台へのインストールが可能です。


### タブレット(Windows 10)でも使えますか？


- 対局用のウィンドウはある程度自由にサイズを変更することが出来るので、縦長にしての対局も可能です。
- 人間同士の対局は、後手側は、成り不成の選択表示や、残り時間などを180度回転させて表示されたほうが嬉しいと思うのですが、残念ながらそれには現時点では対応していません。(将来的に対応するかも知れません)



### ダウンロード版を購入したのですが、「ソースファイルがありません」と表示され、インストールできません。


- ダウンロード版のほうは、zipファイルになっています。zipファイルは圧縮ファイルなので解凍する必要があります。
- ダブルクリックすればzipファイルに格納されているファイルが見れますが、この状態では解凍されていないのでインストールすることは出来ません。
  - (この話は、本ソフトに限ったことではなく、他のダウンロード販売されているソフトウェアでも同様です。)

- ダウンロードしたzipファイルを右クリックして「展開」を選んで展開します。
- 「はじめにお読みください.txt」にインストール方法・注意事項が書かれています。

- インストールまでの手順は、次のユーザーレビューが参考になると思います。
  - [「将棋神 やねうら王」買ったよ（1） インストール編](https://shogi.zukeran.org/2018/08/24/yaneuraoh-1/)


### .NET Framework が入っていないと言われ、インストールが始まりません。


- 将棋神やねうら王 の動作には、 .NET Framework 4.6.1 以降のインストールが必要です。
  - Windows 10 November Update version 1511 以降では .NET Framework 4.6.1 以降がプリインストールされています。
  - Windows 7 SP1, Windows 8.1, Windows 10 version 1507 では .NET Framework 4.6.1 以降のインストールが必要な場合があります。
  - Windows 8.1 では .NET Framework 4.6.1 のインストール前に、 [Windows 8.1 Update (KB2919355)](https://support.microsoft.com/ja-jp/help/2919355/windows-rt-8-1-windows-8-1-and-windows-server-2012-r2-update-april-201) を適用することが必須となります。未適用の方は、お手数ですが先に以下を参照して適用をお願いします。
    - [Windows 8.1 Update (KB 2919355) をインストールする](https://support.microsoft.com/ja-jp/help/15356/windows-8-install-update-kb-2919355)
    - [Windows RT 8.1、Windows 8.1、および Windows Server 2012 R2 の更新プログラム: 2014 年 4 月](https://support.microsoft.com/ja-jp/help/2919355/windows-rt-8-1-windows-8-1-and-windows-server-2012-r2-update-april-201)
- 以下の2つのインストーラを同梱していますので、これらの名前のファイルを先に実行してインストールしてください。日本語言語パックのインストールだけでは .NET Framework の本体はインストールされません。
  - NDP461-KB3102436-x86-x64-AllOS-ENU.exe : .NET Framework 4.6.1 オフラインインストーラ
  - NDP461-KB3102436-x86-x64-AllOS-JPN.exe : .NET Framework 4.6.1 日本語言語パック オフラインインストーラ


### インストーラーでのインストールの画面から進まない


- 通常、インストールは5分程度で完了しますが、セキュリティソフトがインストールされている環境ですと、ファイルのチェックのために20分以上時間がかかる現象が確認されています。
 セキュリティソフトを一時的にオフにしてインストールするか、根気よく待ってみてください。


### Windows7とWindows10とでコンピュータの棋力は変わりますか？


- ほぼ変わりません。
- Windows10のほうがOSとしてメモリマネージメントがうまくなっているので、Windows7よりは、少し多くのメモリを思考エンジンに割り当てられて、そこで差がわずかにつく可能性はありますが、誤差だと思います。


### Windowsの32bit版と64bit版とで強さは変わりますか？


- 32bit環境は動作保証外です。(動作すること自体は確認していますが)
- 思考エンジン側は64bit環境に向けて最適化されているので、32bit環境と64bit環境とでは棋力はかなり変わります。
- eloレーティングで言うとR50～R100ぐらい変わりかねないです。(ただし、この差を人間では感知できないとは思います)


### Windowsの32bit版で8スレッド以上にすると動きません。


- 32bit環境自体、『将棋神やねうら王』の動作保証対象外ですが、「この理由で動かない」「こうすれば動くことを確認した」という情報を以下に記載しています。

- 【プログラマ向けの説明】思考エンジン側でスレッドなどに割り当てる論理アドレスが2GBを超えるため。Windows7,10にてこの現象を確認。
  - この理由から、現状、32bit環境で自動スレッドにした場合、物理8コアであっても7スレッドしか割当らないようにしてあります。
  - 自動スレッドをオフにして、手動でスレッド数を8以上に変更することは出来ます。


### 対局が終了していることが分かりづらい。


- V1.13で「対局開始」「対局終了」の表示が追加されました。


### これから追加していく予定の機能は？追加機能は無償ですか？


- 年内のアップデートでは「棋譜解析」「形勢グラフ」などを予定しており、それらは無償で対応となります。(それ以外の追加についてはお約束できません。)
- 以降のアップデートは、不具合の修正などがメインで、それらは無償です。
- また、GUI側はオープンソースであり、有志の方が改良をしているので、予定になかった機能が突如ついていることがあります。
   (例えばUpdate1.3(V1.13)以降、局面図のSVG形式での出力が備わります。これは有志の方の手で追加されました。)


### その他

- 書きかけ(質問があればここに追加していきます)

